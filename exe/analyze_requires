#!/usr/bin/env ruby
require 'gem_footprint_analyzer'

if ARGV.size < 1 || ARGV.size > 2
  script_name = "bundle exec #{File.basename($0)}"
  puts "#{script_name} library_to_analyze [require]"
  puts "Examples:"
  puts "  #{script_name} net/http"
  puts "  #{script_name} activesupport active_support"
  puts "  #{script_name} typhoeus"
  puts "  #{script_name} typhoeus typhoeus/request"
  exit 1
end

requires_list = GemFootprintAnalyzer::Analyzer.new.test_library(*ARGV)
puts GemFootprintAnalyzer::TextFormatter.new.format(requires_list)